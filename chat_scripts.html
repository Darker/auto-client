---
layout: default
title: Chat scripting
jquery_ui: true
---
<h3>About</h3>
Chat scripts allow you to call text multiple times or with a delay. Special single-line 
simplified syntax is used to allow for short scripts. The scripts can be entered into the 
call text field in the program, like this:
{% include bigscreenshot.html src="call_text_script.png" %} 

<hr />
<h3>Examples</h3>
<ul>
  <li>
    <code>S>s,midd,3,800;</code>
       - calls <q>mid</q> three times with 800 ms pauses between calls
  </li>
  <li>
    <code>S>s,top,3,1000;d,2000;s,I go top :)</code>
       - calls <q>top</q> three times, then waits 2 seconds and says <q>I go top :)</q>
  </li>
</ul>
<hr />
<h3>Script editor</h3>

<p id="editor-help">Use the edit field to change the script, or press the <kbd>+</kbd> button to add command.</p>
<input type="text" class="script-editor" id="script-editor" value="S>" />
<p><b>Program preview:</b></p>
<div id="script_preview">

</div>
<hr />
<h3>Saved scripts</h3>
<div id="saved-scripts">
  <!--<tr><th>Name</th><th>Comment</th><th>Script</th></tr>-->
</div>


<link rel="stylesheet" type="text/css" href="{{site.baseurl}}/stylesheets/scripts.css" media="screen">
<script>

function scriptsReady(part) {
  var pos = scriptsReady.needed.indexOf(part);
  console.log("Loaded: ",part, pos, scriptsReady.needed);
  if(pos!=-1) {
    scriptsReady.needed.splice(pos, 1);

  }
  else
    throw new Error("undefined part "+part);
  if(scriptsReady.needed.length==0) {
    startScriptEditor();
  }
}
scriptsReady.needed = ["scripts", "editor"];
</script>
<script src="{{site.baseurl}}/js/scripts.js" async="true" onload="scriptsReady('scripts');"></script>
<script src="{{site.baseurl}}/js/script-editor.js" async="true" onload="scriptsReady('editor');"></script>

<!-- UI dialogs -->
<div id="script-edit-select" class="script-edit-dialog add-command" title="Add command wizard">
  <p class="validateTips">Select type of command to add:</p>
 
  <div class="select">
    <fieldset>
      <button value="s">Say to chat command</button>
      <button value="d">Delay command</button>
    </fieldset>
  </div>
  <form class="add-command s" name="s"> 
    <fieldset>
      Text: <input name="text" placeholder="I go mid!" class="command-param"/><br />
      Repeat count: <input name="count" type="number" value="1" class="command-param" /><br />
      Delay: <input name="delay" type="number" value="500" class="command-param"/><br />
      <button>Save</button>
    </fieldset>
  </form>
  <form class="add-command d" name="d"> 
    <fieldset>
      Delay: <input name="delay" type="number" value="500" class="command-param"/><br />
      <button>Save</button>
    </fieldset>
  </form>
</div>

<div id="script-edit-save" class="script-edit-dialog save" title="Save script">
  <form class="save-script"> 
    <fieldset>
      Name: <input name="name" placeholder="My script"/><br />
      Comment: <input name="comment" type="text" value="" placeholder="The best script in the world." /><br />
    </fieldset>
  </form>
</div>