---
layout: default
title: Download
download_title: Download
---
<!-- This sucks but I don't know how make jekyll add the stylesheet to head." -->
<link rel="stylesheet" type="text/css" href="{{site.baseurl}}/stylesheets/download.css" media="screen">
<script>
var GetDownloadInfo = function(cb) {
  GITHUB.getURL(SETTINGS.ghapi+"releases/latest", cb);
}
</script>


<h3>{{ page.download_title }}</h3>
<div id="about-download" itemscope itemtype="http://schema.org/SoftwareApplication">
  {{ content }}
</div>
<hr />
<h3>Download will start soon...</h3>
<p id="info">Checking status of releases, please wait...</p>

<p id="download_info" style="display: none">
  <span class="filename" style="background-image: url('http://www.stdicon.com/humility/ddd.zip?size=18');"></span> was updated <span class="time"></span> and downloaded <span class="download_count"></span> times.
  <!--<span class="virustotal">View <a href="" id="virustotal">VirusTotal report</a></span> -->
</p>
<p id="download" style="display: none">
    <span id="countdown">Download will start in <span id="cd">10</span> seconds. <a class="red" id="countdown-cancel" href="javascript:/* cancel download */void(0);">Click to cancel.</a></span>
    <span id="countdown-after" style="display: none">
      If the download didn't start,
      <a href="{{site.gh_repo}}releases/latest" id="dl_link">click here</a>
      to start manually.
    </span>
    <iframe style="width:1px; height: 1px; position:absolute; top:-100px; left: -100px" id="dl_frame"></iframe>
</p>
<hr />
<h3>Comments</h3>
<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
  
    var disqus_config = function () {
        this.page.url = location.href;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = "download {{ page.download_title }}"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
  
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = '//lolautoclient.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<script type="text/javascript">
onready(function(){
    console.log("Getting download info.");
    console.log("JQuery: ", $);
    GetDownloadInfo(function (release) {
        var asset = findFirstZipAsset(release.assets);
        console.log("Retrieved info: ", release);
        distribute_text({
          filename: asset.name,
          time: timeAgo(asset.updated_at),
          download_count: new Number(asset.download_count).toLocaleString("EN-GB")
        });
        console.log("Hiding info div: ");
        $("#info").fadeOut(300, function (){
          console.log("Showing download div: ");
          $("#download, #download_info").fadeIn (300,
           function (){console.log("Done showing the div.");}
          );
        });

        $("#dl_link").attr("href", asset.browser_download_url+"#dl_manual");
        // Request virustotal report
        
        var countdown = $("#cd").countdown(10)
          .always( function (){
            $("#countdown").fadeOut(800,
              function() {
                $("#countdown-after").fadeIn(800);
              }
            );
          })
          .done( function (){
            if(SETTINGS.auto_download) {
              $("#dl_frame").attr("src", asset.browser_download_url);
              if(typeof ga=="function") {
                ga('send', 'event', 'download-'+asset.name, 'download', "success", {
                  'transport': 'beacon',
                });
              }
            }
          });
        $("#countdown-cancel").one("click", function (){
          // Tell google analytics that download was stopped
          if(typeof ga=="function") {
            ga('send', 'event', 'download-'+asset.name, 'download', "cancel", {
               'transport': 'beacon',
            });
          }
          // Stop download
          countdown.stop();
        });
    });
});
</script>
